ステートマシン記述用の構文としてcwk(clockwork)を用意しました。
cwk構文内の;(セミコロン)はステートの区切り及び次のステートへの遷移として機能します。
ifなどのネスト内でセミコロンが使われた場合、ステート区切りは一度しか働きませんが、各セミコロンの評価時にステートの遷移が起こります。
:;(コロンセミコロン)はステート区切りをしますが、ステート遷移をしません。
CLK = in[]
LEDR = out[10]
SW = in[2]
cwk (state pos CLK): //32ビットのステートカウンタ"state"と以下の式でステートマシンを生成します。
  LEDR = 1; //LEDRに1を代入し、stateを次に進める
  LEDR = 2
  if (SW); //SWが0以外ならstateを次に進める
  state = SW:; //ステートをSWの値に変更する
  state = 0:; //ステートをリセットする

printsv()
